<!doctype html>
<notebook theme="air">
  <title>Literal remote cell value</title>
  <script id="0" type="application/vnd.observable.javascript">
    md `# Literal remote cell value 
    Deprecated: Use https://observablehq.com/@tomlarkworthy/metaprogramming#peekFirst directly instead
    `
  </script>
  <script id="2" type="application/vnd.observable.javascript">
    viewof target_notebook = html`<input type=text value="@tomlarkworthy/subdomain-certification">`
  </script>
  <script id="919" type="application/vnd.observable.javascript">
    viewof target_cell = html`<input type=text value="challenge_response">`
  </script>
  <script id="1058" type="application/vnd.observable.javascript">
    remoteCellValue(target_notebook, target_cell)
  </script>
  <script id="1069" type="application/vnd.observable.javascript">
    md`
    ~~~js
    import {remoteCellValue} from '@tomlarkworthy/remote-cell-value'
    ~~~
    `
  </script>
  <script id="1050" type="application/vnd.observable.javascript">
    /**
    * target_notebook - e.g. @tomlarkworthy/endpoint-secrets
    * target_cell - the named cell e.g. challenge_response
    * apiUrl - Optional, override for API endpoint, 
    *.         default is https://observable-cors.glitch.me/https://api.observablehq.com
    * returns - the value of the call in the remove notebook
    */
    async function remoteCellValue(target_notebook, target_cell, apiUrl) {
      return peekFirst({
        notebook: target_notebook,
        cell: target_cell
      })
    }
  </script>
  <script id="1105" type="application/vnd.observable.javascript">
    import {peekFirst} from '@tomlarkworthy/metaprogramming'
  </script>
</notebook>
