<!doctype html>
<notebook theme="air">
  <title>Test-Driven Development</title>
  <script id="0" type="text/markdown">
    # Test-Driven Development

  </script>
  <script id="2227" type="application/vnd.observable.javascript">
    import { createSuite, expect } from "@tomlarkworthy/testing"
  </script>
  <script id="2261" type="application/vnd.observable.javascript">
    markdown_skill = ({
      prompt: "Write a markdown skill cell",
      time: 1699719020249,
      comment: "Complex markdown skill cell"
    } &&
      md`
    ## Markdown Skill
    This demonstrates advanced usage of markdown \`md\` literal

    <details><summary>example</summary>
    ${md`## Mermaid Diagram
    ${mermaid`
    graph TB;
        A-->B;
        A-->C;
        B-->D;
        C-->D;
    `}

    ## Live JavaScript Execution
    ${(function () {
      const span = htl.html`<span>`;
      let count = 0;
      span.textContent = count;
      setInterval(() => {
        count++;
        span.textContent = count;
      }, 1000);
      return span;
    })()}

    ## KaTeX
    The quadratic formula is ${tex`x = {-b \pm \sqrt{b^2-4ac} \over 2a}`}

    ${tex`
    \begin{aligned}
      (a+b)^2 &= (a+b)(a+b) \\
      &= a^2 + 2ab + b^2
    \end{aligned}
    `}

    ## Details/Summary
    <details>
      <summary>Expandable content</summary>
      ${md`
      - Item 1
      - Item 2
      - Item 3
      `}
    </details>

    ## HTML Figure
    <figure>
      <a href="https://www.reddit.com/r/robocoop/" target="_blank">
        <img src="https://avatars.githubusercontent.com/endpointservices" alt="Endpoint Services" width="100" height="100">
      </a>
      <figcaption>Figure: Endpoint Services. Click to visit the Roboco-op subreddit.</figcaption>
    </figure>

    ## Blocks
    \`Backticks\` need to be escaped, it is easier to use ~ instead
    ~~~js
      () => throw Error()
    ~~~
    `}
    </details>
    `)
  </script>
  <script id="2232" type="application/vnd.observable.javascript">
    viewof suite = ({
      prompt: "create a test suite called suite",
      time: 1702899872368
    } && createSuite())
  </script>
  <script id="2253" type="application/vnd.observable.javascript" pinned="">
    test_twoPlusTwo = ({
      prompt: "Add a test for 2 + 2 = 4",
      time: 1702900160674,
      comment: "Adding a test to check if 2 + 2 equals 4"
    } &&
      suite.test("2 plus 2 equals 4", () => {
        expect(2 + 2).toBe(4);
      }))
  </script>
  <script id="2256" type="application/vnd.observable.javascript" pinned="">
    expect
  </script>
  <script id="2239" type="application/vnd.observable.javascript" pinned="">
    suite.results
  </script>
  <script id="81" type="application/vnd.observable.javascript">
    viewof prompt
  </script>
  <script id="1014" type="application/vnd.observable.javascript">
    Inputs.button("copy code", {
      reduce: () => {
        navigator.clipboard.writeText(suggestion);
      }
    })
  </script>
  <script id="105" type="application/vnd.observable.javascript">
    viewof suggestion
  </script>
  <script id="1463" type="text/markdown">
    ## Current Chat context
  </script>
  <script id="1252" type="application/vnd.observable.javascript">
    viewof context_viz
  </script>
  <script id="1470" type="text/markdown">
    tick the cells to include in the next prompt
  </script>
  <script id="1473" type="application/vnd.observable.javascript">
    viewof feedback_cells_selector
  </script>
  <script id="1542" type="application/vnd.observable.javascript">
    viewof feedback_prompt
  </script>
  <script id="1692" type="text/markdown">
    ### AI Settings
  </script>
  <script id="29" type="application/vnd.observable.javascript">
    viewof OPENAI_API_KEY
  </script>
  <script id="2061" type="application/vnd.observable.javascript">
    viewof api_endpoint
  </script>
  <script id="2163" type="application/vnd.observable.javascript">
    viewof settings
  </script>
  <script id="2193" type="text/markdown">
    ---
  </script>
  <script id="2114" type="application/vnd.observable.javascript">
    import {
      ask,
      excludes,
      cells,
      update_context,
      on_prompt,
      api_call_response,
      background_tasks,
      mutable context,
      viewof prompt,
      viewof suggestion,
      viewof settings,
      viewof OPENAI_API_KEY,
      viewof api_endpoint,
      viewof feedback_prompt,
      viewof feedback_cells_selector,
      viewof context_viz
    } from "@tomlarkworthy/robocoop"
  </script>
  <script id="2179" type="application/vnd.observable.javascript">
    background_tasks
  </script>
</notebook>
