<!doctype html>
<notebook theme="air">
  <title>Tabbed Pane View</title>
  <script id="0" type="text/markdown">
    # Tabbed Pane View

    Turn a dictionary of views into a tabbed composite view

    ```js
    import {tabbedPane} from '@tomlarkworthy/tabbed-pane-view'
    ```
  </script>
  <script id="2273" type="application/vnd.observable.javascript">
    tabbedPane = ({
      prompt:
        "create a function that takes a dictionary of views and create a new view that is a tabbed pane that switches between them",
      time: 1716923511020,
      comment: "Function to create a tabbed pane view from a dictionary of views"
    } &&
      function tabbedPane(viewDict) {
        const tabNames = Object.keys(viewDict);
        const container = view`<div>
        <div class="tabs">
          ${tabNames.map(
            (name, i) => htl.html`<button 
              class="tab ${i === 0 ? "active" : ""}"
              onclick=${() => switchTab(i)}>${name}</button>`
          )}
        </div>
        <div class="tab-content">
          ${[
            "...",
            Object.fromEntries(
              tabNames.map((name, i) => [
                name,
                view`<div class="tab-panel" style="display: ${
                  i === 0 ? "block" : "none"
                };">
            ${["...", viewDict[name]]}
          </div>`
              ])
            )
          ]}
        </div>
      </div>`;

        function switchTab(index) {
          container.querySelectorAll(":scope > .tabs > .tab").forEach((tab, i) => {
            tab.classList.toggle("active", i === index);
          });
          container
            .querySelectorAll(":scope > .tab-content > .tab-panel")
            .forEach((panel, i) => {
              panel.style.display = i === index ? "block" : "none";
            });
        }

        return container;
      })
  </script>
  <script id="2275" type="application/vnd.observable.javascript" pinned="">
    viewof controls = tabbedPane({
      left: Inputs.range([0, 1]),
      right: Inputs.range([0, 10]),
      nested: tabbedPane({
        text: Inputs.text(),
        textarea: Inputs.textarea()
      })
    })
  </script>
  <script id="2299" type="text/markdown">
    ## Backdrivable
  </script>
  <script id="2291" type="application/vnd.observable.javascript" pinned="">
    Inputs.bind(Inputs.range(), viewof controls.left)
  </script>
  <script id="2296" type="application/vnd.observable.javascript" pinned="">
    Inputs.bind(Inputs.range([0, 10]), viewof controls.right)
  </script>
  <script id="2270" type="application/vnd.observable.javascript">
    import { view } from "@tomlarkworthy/view"
  </script>
</notebook>
