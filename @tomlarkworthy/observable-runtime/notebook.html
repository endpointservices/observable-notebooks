<!doctype html>
<notebook theme="air">
  <title>Observable Runtime (v5)</title>
  <script id="0" type="text/markdown">
    # Observable Runtime (v5)

    ```js
    import {Runtime, Inspector, Library, RuntimeError} from "@tomlarkworthy/observable-runtime"
    ```
  </script>
  <script id="14" type="application/vnd.observable.javascript" pinned="">
    Runtime = observable.Runtime
  </script>
  <script id="10" type="application/vnd.observable.javascript" pinned="">
    Inspector = observable.Inspector
  </script>
  <script id="12" type="application/vnd.observable.javascript" pinned="">
    Library = observable.Library
  </script>
  <script id="16" type="application/vnd.observable.javascript" pinned="">
    RuntimeError = observable.RuntimeError
  </script>
  <script id="5" type="application/vnd.observable.javascript" pinned="">
    observable = {
      const blob = await unzip(FileAttachment("runtime.js.gz"));

      const objectURL = URL.createObjectURL(
        new Blob([blob], { type: "application/javascript" })
      );
      try {
        return await import(objectURL);
      } finally {
        URL.revokeObjectURL(objectURL);
      }
    }
  </script>
  <script id="6" type="application/vnd.observable.javascript" pinned="">
    unzip = async (attachment) =>
      await new Response(
        (await attachment.stream()).pipeThrough(new DecompressionStream("gzip"))
      ).blob()
  </script>
</notebook>
